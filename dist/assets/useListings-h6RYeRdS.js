import{u as i,a as t}from"./useApi-DnSGaFtl.js";import{U as u,W as r}from"./index-C3POMFfo.js";const c=async e=>{let n=[...r];return e!=null&&e.search&&(n=n.filter(s=>{var a,o;return(o=(a=s.metadata)==null?void 0:a.name)==null?void 0:o.toLowerCase().includes(e.search.toLowerCase())})),e!=null&&e.type_name&&(n=n.filter(s=>s.type_name===e.type_name)),e!=null&&e.min_price&&(n=n.filter(s=>s.price&&parseFloat(s.price)>=parseFloat(e.min_price))),e!=null&&e.max_price&&(n=n.filter(s=>s.price&&parseFloat(s.price)<=parseFloat(e.max_price))),Promise.resolve(n)},g=async e=>{const n=r.find(s=>s.id===e);return Promise.resolve(n)},y=async e=>Promise.resolve({likes:Math.floor(Math.random()*100),sales:Math.floor(Math.random()*20),views:Math.floor(Math.random()*1e3)}),l=async(e,n)=>(console.log(`Liked listing ${e} by ${n}`),Promise.resolve()),m=async(e,n)=>(console.log(`Unliked listing ${e} by ${n}`),Promise.resolve()),p=async(e,n,s)=>(console.log(`Bought listing ${e} by ${n}, tx: ${s}`),Promise.resolve()),v=async()=>Promise.resolve(u);function F(e){return i({queryKey:["listings",JSON.stringify(e)],queryFn:()=>c(e)})}function h(e){return i({queryKey:["listing",e],queryFn:()=>g(e),enabled:!!e})}function _(e){return i({queryKey:["listing-stats",e],queryFn:()=>y(),enabled:!!e})}function b(){return t({mutationFn:({listingId:e,userAddress:n})=>l(e,n),invalidateQueries:[["listings"],["listing-stats"]]})}function k(){return t({mutationFn:({listingId:e,userAddress:n})=>m(e,n),invalidateQueries:[["listings"],["listing-stats"]]})}function M(){return t({mutationFn:({listingId:e,buyerAddress:n,txHash:s})=>p(e,n,s),invalidateQueries:[["listings"],["listing"],["user-nfts"]]})}export{h as a,_ as b,b as c,k as d,M as e,v as g,F as u};
